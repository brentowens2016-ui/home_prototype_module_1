---
2026-01-31: MODULE REFACTOR & STRUCTURE OVERHAUL

# Core Module (modules/core/)
- Contains all essential backend logic, static file serving, authentication, CORS, privacy/data endpoints, import/export, feedback, device health, login, IP enforcement, notifications, email, and device mapping.
- Each major feature is in its own file (e.g., static.py, privacy.py, export_import.py, feedback.py, device_health.py, login.py, ip_enforcement.py, notifications.py, email.py, mapping.py).
- Assembled as a FastAPI app in __init__.py for modular, maintainable, and extensible backend core.

# Audio/Video/Language Module (modules/audio/)
- Contains all endpoints and logic for audio, video, camera, HDMI, and language features.
- Submodules: audio_endpoints.py, camera.py, hdmi.py, voice_assistants.py.
- Each submodule provides a router for its feature area, assembled in __init__.py.

# AI Module (modules/ai/)
- Contains all endpoints and logic for predictive AI, scenario/event training, and diagnostics.
- Submodule: predictive.py (predictive_lighting_schedule, run_predictive_lighting_endpoint).
- Assembled as a router in __init__.py for easy integration.

# Miscellaneous Module (modules/misc/)
- Contains all endpoints and logic not covered by core, AI, or audio/video/language modules.
- Submodules: guests.py (guest management), energy.py (energy monitoring), automation.py (automation/scheduling).
- Each submodule provides a router, assembled in __init__.py.

# Contracts Module (modules/contracts/)
- Contains canonical device contract files for Python and Rust (device_contracts.py, device_contracts.rs).
- Used for reference, versioning, and future retooling or merging of modules.

# Developer Notes
- Each module is self-contained, with clear separation of concerns and single-responsibility submodules.
- This structure eliminates redundancy, supports maintainability, and enables rapid development and integration of new features.
- As new features are added, create a new submodule or extend the appropriate module for clarity and organization.
- All major migrations and refactors are timestamped and documented here for future reference.

---
